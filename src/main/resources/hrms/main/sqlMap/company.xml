<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="hrms.company">

    <select id="selectInterviewList" parameterType="map" resultType="map">
      SELECT
          COMPANY_ID
          ,PERSON_ID
          ,CASE_NAME
          ,WORK_PLACE
          ,INTERVIEW_PLACE
          ,INTERVIEW_DATE
          ,START_TIME
          ,END_TIME
          ,CONCAT(INTERVIEW_DATE,' ',START_TIME,'ï½ž',END_TIME) AS INTERVIEW_DATETIME
          ,WORK_CONTENTS
          ,INTERVIEW_RESULT
          ,CREATE_USER
          ,CREATE_DATE_TIME
          ,UPDATE_USER
          ,UPDATE_DATE_TIME
          ,CREATED_BY
          ,UPDATED_BY
      FROM
          T_B_INTERVIEW
      WHERE
          1 = 1
          <if test="companyId != null">
            AND COMPANY_ID = #{companyId}
          </if>
    </select>

    <select id="selectPersonList" parameterType="map" resultType="map">
      SELECT
        PERSON_ID
       ,USER_DISPLAY_NAME
       ,USER_NAME_KANA
       ,USER_NAME_KANJI
       ,USER_NAME_ROMA
       ,GENDER
       ,BIRTHDAY
       ,ZIP_CODE
       ,ADDR_PREF
       ,ADDR_CITY
       ,STATION
       ,PHOTO_ID
       ,VIDEO_ID
       ,MAIL
       ,TEL
       ,COUNTRY
       ,EDUCATION
       ,MAJOR
       ,WORK_EXP
       ,JAPAN_EXP
       ,COMPANY
       ,CONTRACT_TYPE
       ,STATUS
       ,PRICE_MIN
       ,PRICE_MAX
      FROM
          T_B_PERSON_BASE
      WHERE
          1 = 1
          <if test="contractType != null and contractType != ''">
            AND CONTRACT_TYPE = #{contractType}
          </if>
          <if test="status != null and status != ''">
            AND STATUS = #{status}
          </if>
          <if test="gender != null and gender != ''">
            AND GENDER = #{gender}
          </if>
          <if test="country != null and country != ''">
            AND COUNTRY = #{country}
          </if>
    </select>

</mapper>